<duocuc-header></duocuc-header>

<ion-content>
	<hr>
	<div style="display: flex; justify-content: center;">
		<ion-badge style="width: 30rem; margin: 0 auto;" color="dark">
			<ion-title class="ion-text-center" style="margin-top: 5px; margin-bottom: 5px;">{{ "registrarme.badge" | translate }}</ion-title>
		</ion-badge>
	</div>
	<hr>
	<div style="display: flex; justify-content: center;">
		<ion-card style="width: 40rem;" class="enmarcar">
			<ion-card-title class="ion-text-center">
				{{ "registrarme.card.title" | translate }}
			</ion-card-title>
			<ion-card-content [formGroup]="registroForm">
				<ion-grid>
					<ion-row>
						<ion-col size="6">
							<ion-input formControlName="cuenta" color="secondary" label="{{ 'misdatos.input.cuenta' | translate }}" labelPlacement="floating" fill="outline"></ion-input>
							<small *ngIf="registroForm.get('cuenta')?.touched && registroForm.get('cuenta')?.invalid" class="error-feedback">{{ getErrorMsg("cuenta") }}</small>
						</ion-col>
						<ion-col size="6">
							<ion-input formControlName="correo" color="secondary" label="{{ 'misdatos.input.correo' | translate }}" labelPlacement="floating" fill="outline"></ion-input>
							<small *ngIf="registroForm.get('correo')?.touched && registroForm.get('correo')?.invalid" class="error-feedback">{{ getErrorMsg("correo") }}</small>
						</ion-col>
					</ion-row>
				</ion-grid>
				
				<ion-grid>
					<ion-row>
						<ion-col size="6">
							<ion-input formControlName="nombre" color="secondary" label="{{ 'misdatos.input.nombre' | translate }}" labelPlacement="floating" fill="outline"></ion-input>
							<small *ngIf="registroForm.get('nombre')?.touched && registroForm.get('nombre')?.invalid" class="error-feedback">{{ getErrorMsg("nombre") }}</small>
						</ion-col>
						<ion-col size="6">
							<ion-input formControlName="apellido" color="secondary" label="{{ 'misdatos.input.apellido' | translate }}" labelPlacement="floating" fill="outline"></ion-input>
							<small *ngIf="registroForm.get('apellido')?.touched && registroForm.get('apellido')?.invalid" class="error-feedback">{{ getErrorMsg("apellido") }}</small>
						</ion-col>
					</ion-row>
				</ion-grid>
				
				<ion-grid>
					<ion-row>
						<ion-col size="6">
							<ion-input formControlName="preguntaSecreta" color="secondary" label="{{ 'misdatos.input.preguntasecreta' | translate }}" labelPlacement="floating" fill="outline"></ion-input>
							<small *ngIf="registroForm.get('preguntaSecreta')?.touched && registroForm.get('preguntaSecreta')?.invalid" class="error-feedback">{{ getErrorMsg("preguntaSecreta") }}</small>
						</ion-col>
						<ion-col size="6">
							<ion-input formControlName="respuestaSecreta" color="secondary" label="{{ 'misdatos.input.respuestasecreta' | translate }}" labelPlacement="floating" fill="outline"></ion-input>
							<small *ngIf="registroForm.get('respuestaSecreta')?.touched && registroForm.get('respuestaSecreta')?.invalid" class="error-feedback">{{ getErrorMsg("respuestaSecreta") }}</small>
						</ion-col>
					</ion-row>
				</ion-grid>
	
				<ion-grid>
					<ion-row>
						<ion-col size="12">
							<ion-select formControlName="nivelEducacional" (ionChange)="actualizarNivelEducacional($event)" color="secondary" fill="outline" justify="space-between" label="{{ 'misdatos.select.educacion' | translate }}">
								<ion-select-option *ngFor="let nivelEducacional of listaNivelesEducacionales" [value]="nivelEducacional.id">
									{{nivelEducacional.nombre}}
								</ion-select-option>
							</ion-select>
							<small *ngIf="registroForm.get('nivelEducacional')?.touched && registroForm.get('nivelEducacional')?.invalid" class="error-feedback">{{ getErrorMsg("nivelEducacional") }}</small>
						</ion-col>
					</ion-row>
				</ion-grid>
				
				<ion-grid>
					<ion-row>
						<ion-col size="6">
							<ion-input formControlName="direccion" color="secondary" label="{{ 'misdatos.input.dirección' | translate }}" labelPlacement="floating" type="text" fill="outline"></ion-input>
							<small *ngIf="registroForm.get('direccion')?.touched && registroForm.get('direccion')?.invalid" class="error-feedback">{{ getErrorMsg("direccion") }}</small>
						</ion-col>
						<ion-col size="6">
							<ion-input formControlName="contraseña" color="secondary" label="{{ 'misdatos.input.contraseña' | translate }}" labelPlacement="floating" type="password" fill="outline"></ion-input>
							<small *ngIf="registroForm.get('contraseña')?.touched && registroForm.get('contraseña')?.invalid" class="error-feedback">{{ getErrorMsg("contraseña") }}</small>
						</ion-col>
					</ion-row>
				</ion-grid>
			</ion-card-content>
		</ion-card>
	</div>
</ion-content>

<ion-footer>
	<ion-toolbar>
		<ion-grid>
			<ion-row class="ion-justify-content-between">
				<ion-col size="auto">
					<ion-button [routerLink]="['/login']" size="small" fill="outline" shape="round" color="danger">{{ "button.go_back" | translate }}</ion-button>
				</ion-col>
				<ion-col style="display: flex; justify-content: end;">
					<ion-button (click)="registrarse()" [disabled]="!registroForm.valid" fill="outline" size="small" shape="round" color="success">
						<ion-icon slot="start" name="add-circle-outline"></ion-icon>{{ 'button.create_account' | translate }}
					</ion-button>
				</ion-col>
			</ion-row>
		</ion-grid>
	</ion-toolbar>
</ion-footer>
